## Отчет по лабораторной работе №2
**Группа ИС-21, Мавлютов Р. Э.**

 *1. Утилиты резервного копирования*
 
> `pg_dump` является методом бекапа при котором сохраняются SQL команды для воссоздания данных и структур БД.  
> `pg_basebackup` в свою очередь сохраняет физическую копию существующих файлов БД, что более эффективно для крупных систем.

 *2. Создание резервной копии*

> `-Fp` Создает SQL-скрипт, который можно восстановить с помощью psql  
> `-Fc` Создает дамп в специальном формате, который можно восстановить только с помощью pg_restore. Сжимает файлы и позволяет восстановить данные выборочно. `-Fd` - параллельный.  
> `-Ft` Создает дамп в формате tar-архива.  
> `-Z` Позволяет указать уровень сжатия (от 0 до 9).  
> `-s` Экспортирует только схемы, `-a` только данные, `-n` только конкретную схему, `-t` только таблицу.    
> `--no-owner` игнорирует владельцев, `--no-privileges` игнорирует права.  
> `-j` Позволяет выполнять дамп параллельно (только с форматом -Fd — directory)  
> Была выполнена резервная копия в SQL формате.
> <img src="/Lab 2/screens/1.png" title="Создание резервной копии" width="auto" height="592.5"/> 

 *3. Частичное (выборочное) резервное копирование*

> Были проведены резевные копии отдельно схемы и отдельно таблицы. Разница с полным копированием состоит в том, что некоторые зависимости могут быть утеряны, ведь они не связаны с необходимыми элементами, которые есть в полном бэкапе.  
> 
> <img src="/Lab 2/screens/2.png" title="Создание резервной копии" width="auto" height="592.5"/>

 *4. Восстановление из резервной копии*

> Для демонстрации восстановления была создана пустая БД db_to_restore. После ее создания была выполнена команда восстановления через psql, а затем отображение результатов в виде востановленных данных из dbmavlyutovre.  
> 
> <img src="/Lab 2/screens/3.png" title="Создание резервной копии" width="auto" height="592.5"/> 
> <img src="/Lab 2/screens/4.png" title="Создание резервной копии" width="auto" height="592.5"/>

 *5. Автоматизация бэкапов с помощью cron*

> 
